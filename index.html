<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ART5D FÉNIX - Certificación Híbrida + Audio + VR</title>

  <!-- Fuentes -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- PayPal SDK (Sandbox) -->
  <script src="https://www.paypal.com/sdk/js?client-id=AZ6F094119M09V1139N115Q29B2735C4A3P29S4N0P17S216K13T0&currency=USD&intent=capture" async></script>

  <!-- Tone.js (Audio) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js" defer></script>

  <!-- Three.js (VR Gallery) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r169/three.min.js" defer></script>

  <style>
    :root {
      --phoenix: #A855F7;
      --gold: #FFD700;
      --indigo: #4F46E5;
    }
    body {
      font-family: 'Inter', sans-serif;
      background-color: #f7f7f7;
      color: #1a1a1a;
      margin: 0;
      overflow-x: hidden;
    }
    .header-bg {
      background: linear-gradient(135deg, #FF69B4 0%, #4B0082 100%);
    }
    .neon-text {
      color: var(--gold);
      text-shadow: 0 0 5px #FFA500, 0 0 10px #FF4500;
    }
    .pack-card {
      background: white;
      border-radius: 0.75rem;
      transition: all 0.3s;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }
    .pack-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 30px rgba(0,0,0,0.15);
    }
    #audio-indicator {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      padding: 10px 20px;
      background: #1a1a1a;
      color: var(--gold);
      border: 2px solid var(--gold);
      border-radius: 9999px;
      cursor: pointer;
      font-weight: bold;
      z-index: 999;
      transition: all 0.3s;
    }
    #audio-indicator:hover {
      background: #333;
      box-shadow: 0 0 20px rgba(255,215,0,0.8);
    }
    .avatar {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      border: 3px solid var(--gold);
      object-fit: cover;
      cursor: pointer;
      transition: 0.2s;
    }
    .avatar:hover {
      transform: scale(1.05);
      box-shadow: 0 0 10px var(--gold);
    }
    #vr-container, #audio-designer, #main-content {
      display: none;
    }
    #vr-container.active, #audio-designer.active, #main-content.active {
      display: block;
    }
    .tab-btn {
      @apply px-4 py-2 rounded-lg font-medium transition;
    }
    .tab-btn.active {
      @apply bg-indigo-600 text-white;
    }
    .status-message {
      position: fixed;
      bottom: 80px;
      left: 50%;
      transform: translateX(-50%);
      padding: 12px 24px;
      border-radius: 8px;
      color: white;
      font-weight: bold;
      z-index: 1000;
      animation: fade 4s forwards;
    }
    @keyframes fade {
      0%, 100% { opacity: 0; transform: translateX(-50%) translateY(10px); }
      10%, 90% { opacity: 1; transform: translateX(-50%) translateY(0); }
    }
  </style>
</head>
<body class="min-h-screen">

  <!-- Header -->
  <header class="header-bg p-6 text-white shadow-xl relative">
    <div class="max-w-6xl mx-auto text-center">
      <h1 class="text-4xl sm:text-5xl font-extrabold">
        ART5D <span class="neon-text">FÉNIX</span>
      </h1>
      <p class="mt-2 text-lg opacity-90">Certificación, Audio y VR en un solo lugar</p>
    </div>
    <div class="absolute top-4 right-4 flex items-center gap-3">
      <img id="user-avatar" class="avatar" src="https://placehold.co/50x50/333/FFD700?text=A" alt="Avatar" onclick="alert('Subida simulada')">
      <span class="text-xs">Bienvenido, @FREDDYPINTOR</span>
    </div>
  </header>

  <!-- Tabs -->
  <div class="max-w-6xl mx-auto mt-6 px-4">
    <div class="flex flex-wrap gap-2 justify-center border-b">
      <button class="tab-btn active" onclick="showTab('main')">Packs</button>
      <button class="tab-btn" onclick="showTab('audio')">Diseñador de Audio</button>
      <button class="tab-btn" onclick="showTab('vr')">Galería VR</button>
    </div>
  </div>

  <!-- Main Content (Packs + PayPal) -->
  <div id="main-content" class="active max-w-6xl mx-auto p-6">
    <h2 class="text-3xl font-bold text-center mb-8 text-[#4B0082]">Elige tu Pack</h2>
    <div class="grid md:grid-cols-3 gap-6">
      <!-- Pack Gratis -->
      <div class="pack-card p-6 text-center">
        <h3 class="text-2xl font-bold">GRATIS</h3>
        <p class="text-4xl font-extrabold text-teal-600 my-4">$0</p>
        <ul class="text-left space-y-2 text-gray-600 mb-6">
          <li>1 Imagen</li>
          <li>Galería Pública</li>
        </ul>
        <button class="w-full py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700">Empezar</button>
      </div>

      <!-- Pack Gold -->
      <div class="pack-card p-6 text-center relative">
        <span class="absolute -top-3 left-1/2 -translate-x-1/2 bg-yellow-400 text-black px-3 py-1 text-xs font-bold rounded-full">POPULAR</span>
        <h3 class="text-2xl font-bold">GOLD</h3>
        <p class="text-4xl font-extrabold text-yellow-600 my-4">$19.99</p>
        <ul class="text-left space-y-2 text-gray-600 mb-6">
          <li>10 Imágenes + IA</li>
          <li>Galería Premium</li>
          <li>VR + Audio</li>
        </ul>
        <div id="paypal-button-container"></div>
      </div>

      <!-- Pack Platinum -->
      <div class="pack-card p-6 text-center">
        <h3 class="text-2xl font-bold">PLATINO</h3>
        <p class="text-4xl font-extrabold text-purple-600 my-4">$49.99</p>
        <ul class="text-left space-y-2 text-gray-600 mb-6">
          <li>Ilimitado</li>
          <li>Curaduría</li>
          <li>NFT + VR</li>
        </ul>
        <button class="w-full py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700">Comprar</button>
      </div>
    </div>
  </div>

  <!-- Audio Designer -->
  <div id="audio-designer" class="max-w-2xl mx-auto p-6">
    <div class="bg-white rounded-xl shadow-lg p-6">
      <h2 class="text-2xl font-bold text-center mb-4">Diseñador de Entorno de Audio ART5D</h2>
      <p class="text-sm text-center text-gray-600 mb-6">Haz clic en un modo o ajusta los sliders</p>

      <div class="grid grid-cols-3 gap-2 mb-6">
        <button onclick="toggleMusic('focus')" class="tab-btn text-sm">Enfoque</button>
        <button onclick="toggleMusic('inspiration')" class="tab-btn text-sm">Inspiración</button>
        <button onclick="toggleMusic('mystic')" class="tab-btn text-sm">Místico</button>
      </div>

      <div class="space-y-4">
        <div class="flex items-center">
          <label class="w-32 text-sm">Celta</label>
          <input type="range" min="0" max="100" value="30" class="flex-1" id="celta-slider">
          <span id="vol-celta" class="w-12 text-right font-bold text-indigo-700">30%</span>
        </div>
        <div class="flex items-center">
          <label class="w-32 text-sm">Piano</label>
          <input type="range" min="0" max="100" value="75" class="flex-1" id="gallery-slider">
          <span id="vol-gallery" class="w-12 text-right font-bold text-indigo-700">75%</span>
        </div>
        <div class="flex items-center">
          <label class="w-32 text-sm">Lluvia</label>
          <input type="range" min="0" max="100" value="10" class="flex-1" id="rain-slider">
          <span id="vol-rain" class="w-12 text-right font-bold text-gray-600">10%</span>
        </div>
      </div>
    </div>
  </div>

  <!-- VR Gallery -->
  <div id="vr-container" class="w-full h-screen bg-black">
    <div id="info-overlay" class="absolute top-0 left-0 w-full p-4 text-center bg-black bg-opacity-70 text-white">
      <h1 class="text-xl font-bold">Galería VR ART5D</h1>
      <p class="text-sm">Arrastra para rotar · Rueda para zoom</p>
    </div>
  </div>

  <!-- Audio Indicator -->
  <div id="audio-indicator" onclick="initializeAudio()">Ambiente Cyberpunk (Clic)</div>

  <!-- Scripts -->
  <script>
    // === NAVEGACIÓN POR PESTAÑAS ===
    function showTab(tab) {
      document.querySelectorAll('#main-content, #audio-designer, #vr-container').forEach(el => el.classList.remove('active'));
      document.getElementById(tab + '-content')?.classList.add('active') || 
      document.getElementById(tab === 'main' ? 'main-content' : tab === 'audio' ? 'audio-designer' : 'vr-container').classList.add('active');
      document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
      event.target.classList.add('active');
      if (tab === 'vr') initVR();
      if (tab === 'audio') setupAudio();
    }

    // === MENSAJE TEMPORAL ===
    function showMessage(msg, error = false) {
      const div = document.createElement('div');
      div.className = 'status-message ' + (error ? 'bg-red-600' : 'bg-green-600');
      div.textContent = msg;
      document.body.appendChild(div);
      setTimeout(() => div.remove(), 4000);
    }

    // === PAYPAL ===
    paypal.Buttons({
      createOrder: (data, actions) => actions.order.create({
        purchase_units: [{ description: "PACK GOLD ART5D", amount: { value: "19.99", currency_code: "USD" } }]
      }),
      onApprove: (data, actions) => actions.order.capture().then(d => {
        showMessage(`¡Pago exitoso! Bienvenido al Pack Gold. ID: ${d.id}`);
      }),
      onError: () => showMessage("Error en PayPal", true)
    }).render('#paypal-button-container');

    // === AUDIO CYBERPUNK ===
    let isAudioOn = false;
    window.initializeAudio = () => {
      if (isAudioOn) {
        Tone.Transport.stop();
        isAudioOn = false;
        document.getElementById('audio-indicator').textContent = "Ambiente Cyberpunk (Clic)";
        return;
      }
      Tone.start().then(() => {
        const synth = new Tone.MembraneSynth().toDestination();
        new Tone.Loop(t => synth.triggerAttackRelease("C1", "8n", t), "1n").start(0);
        Tone.Transport.bpm.value = 80;
        Tone.Transport.start();
        isAudioOn = true;
        document.getElementById('audio-indicator').textContent = "ACTIVO";
        showMessage("Ambiente Cyberpunk ON");
      });
    };

    // === AUDIO DESIGNER (Tone.js) ===
    let masterGain, celtaSynth, gallerySynth, noiseRain;
    const initialPreset = { celta: 30, gallery: 75, rain: 10 };
    function setupAudio() {
      if (masterGain) return;
      masterGain = new Tone.Gain(1).toDestination();
      celtaSynth = new Tone.AMSynth().connect(masterGain);
      gallerySynth = new Tone.PolySynth(Tone.DuoSynth).connect(masterGain);
      noiseRain = new Tone.Noise("white").connect(new Tone.Filter(3000, "lowpass").connect(masterGain));
      noiseRain.start();

      new Tone.Loop(t => celtaSynth.triggerAttackRelease("C4", "2n", t), "2n").start(0);
      new Tone.Loop(t => gallerySynth.triggerAttackRelease(["C3", "G3"], "8m", t), "2m").start(0);

      Tone.Transport.bpm.value = 60;
      Tone.Transport.start();

      applyPreset(initialPreset);
      document.querySelectorAll('#audio-designer input[type="range"]').forEach(s => {
        s.oninput = () => updateVolume(s.id.split('-')[0], s.value);
      });
    }
    function updateVolume(id, val) {
      const synth = { celta: celtaSynth, gallery: gallerySynth, rain: noiseRain }[id];
      if (synth) synth.volume.value = val / 100 > 0.001 ? Tone.gainToDb(val / 100) : -100;
      document.getElementById(`vol-${id}`).textContent = val + '%';
    }
    function applyPreset(p) {
      Object.keys(p).forEach(k => {
        const s = document.getElementById(k + '-slider');
        if (s) { s.value = p[k]; updateVolume(k, p[k]); }
      });
    }
    window.toggleMusic = mode => {
      if (!masterGain) setupAudio();
      const presets = {
        focus: { celta: 30, gallery: 75, rain: 10 },
        inspiration: { celta: 65, gallery: 40, rain: 45 },
        mystic: { celta: 90, gallery: 20, rain: 5 }
      };
      applyPreset(presets[mode]);
    };

    // === GALERÍA VR (Three.js) ===
    function initVR() {
      if (window.vrInitialized) return;
      const scene = new THREE.Scene();
      const camera = new THREE.PerspectiveCamera(75, innerWidth / innerHeight, 0.1, 100);
      camera.position.set(0, 1.6, 5);
      const renderer = new THREE.WebGLRenderer({ antialias: true });
      renderer.setSize(innerWidth, innerHeight);
      document.getElementById('vr-container').appendChild(renderer.domElement);

      scene.add(new THREE.AmbientLight(0x404040, 5));
      const floor = new THREE.Mesh(new THREE.PlaneGeometry(10, 10), new THREE.MeshLambertMaterial({ color: 0x222 }));
      floor.rotation.x = -Math.PI / 2;
      scene.add(floor);

      const artGeo = new THREE.BoxGeometry(1.5, 1, 0.05);
      [-3, 0, 3].forEach((x, i) => {
        const mat = new THREE.MeshLambertMaterial({ color: i % 2 ? 0xA855F7 : 0xFDBA74 });
        const art = new THREE.Mesh(artGeo, mat);
        art.position.set(x, 2, -4.9);
        scene.add(art);
      });

      let isDragging = false, prev = { x: 0, y: 0 };
      renderer.domElement.addEventListener('mousedown', e => { isDragging = true; prev = { x: e.clientX, y: e.clientY }; });
      renderer.domElement.addEventListener('mouseup', () => isDragging = false);
      renderer.domElement.addEventListener('mousemove', e => {
        if (!isDragging) return;
        const dx = e.clientX - prev.x, dy = e.clientY - prev.y;
        camera.rotation.y -= dx * 0.005;
        camera.rotation.x = Math.max(-1.5, Math.min(1.5, camera.rotation.x - dy * 0.005));
        prev = { x: e.clientX, y: e.clientY };
      });

      function animate() {
        requestAnimationFrame(animate);
        renderer.render(scene, camera);
      }
      animate();
      window.vrInitialized = true;
    }

    // === INICIO ===
    window.onload = () => {
      showMessage("Bienvenido @FREDDYPINTOR (CL) – 10 Nov 2025", false);
    };
  </script>
</body>
</html>
